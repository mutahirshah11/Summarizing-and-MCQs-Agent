# Role: Senior Python AI Engineer

**Objective:** Build a "Study Notes Agent" that can summarize PDFs and generate quizzes using **OpenAgents SDK**, **Gemini CLI**, and **Context7 MCP**.

---

## 1. Project Overview

The goal is to develop an intelligent educational assistant with two main capabilities:

1. **PDF Summarizer**  
   - Input: PDF uploaded by the user  
   - Output: Clean, concise, student-friendly summary  
   - Tools: PDF text extractor, optional text cleaner  

2. **Quiz Generator**  
   - Input: Original PDF  
   - Output: MCQs and mixed-style quizzes with answers  
   - Tools: PDF text extractor  

**Tech Stack:**  
- OpenAgents SDK  
- Gemini CLI  
- Context7 MCP (PDF Extractor, Text Cleaner)  
- Streamlit UI (or alternative HTML/CSS)  
- PyPDF (PDF text extraction)  

---

## 2. Critical Technical Constraints

**Strict Rules to Follow:**

1. **Zero-Bloat Protocol:**  
   - Do NOT write extra code or features.  
   - Focus strictly on connecting agents to tools and UI.  

2. **API Configuration:**  

    * Use the **OpenAI Agents SDK** Python Library configured for Gemini.
   Base URL: `https://generativelanguage.googleapis.com/v1beta/openai/`
    * **API Key:** Load `GEMINI_API_KEY` from environment variables.
    * **Model:** Use `OpenaiChatCompletionModel` adapted for Gemini. and AsyncOpenai 

3. **SDK Specificity:**  
   - Only use syntax provided by **OpenAgents SDK**.  
   - Do not use standard `openai` library functions.  

4. **Error Recovery:**  
   - If you encounter any `SyntaxError`, `ImportError`, or `AttributeError` related to OpenAgents SDK during code generation, STOP.  
   - Use MCP tool `get-library-docs` to verify syntax.  

---

## 3. Architecture & File Structure

**Root Directory Structure:**

```text
.
├── gemini.md                     # Root project definition (this file)
├── gemini/                       
│   ├── summarizer.gemini.md      # PDF Summarizer agent definition
│   └── quiz_generator.gemini.md  # Quiz Generator agent definition
├── prompts/
│   ├── summarizer_prompt.txt     # Structured summarizer prompt
│   └── quiz_prompt.txt           # Structured quiz prompt
├── agents/                        # Generated by Gemini CLI
│   ├── summarizer_agent.py
│   └── quiz_agent.py
├── tools/
│   └── pdf_tools.py              # PDF extraction and text cleaner
├── ui/
│   └── streamlit_app.py          # Streamlit frontend
└── requirements.txt
```

## 4. Feature Definitions (Unified in this file)

### 4.1 PDF Summarizer Agent

**Goal:**  
Generate concise, student-friendly summaries

**Tools:**  
`pdf_extractor`, optional `text_cleaner`

**Prompt File:**  
`prompts/summarizer_prompt.txt`

**Function:**  
`summarize_pdf(pdf_path)` callable from Streamlit

**Output:**  
Summary text with clear paragraphs

### 4.2 Quiz Generator Agent

**Goal:**  
Generate MCQs + mixed-style quizzes with answers

**Tools:**  
`pdf_extractor`

**Prompt File:**  
`prompts/quiz_prompt.txt`

**Function:**  
`generate_quiz(pdf_path)` callable from Streamlit

**Output:**  
Quiz text with correct answers


## 5. Prompts (Stored in `prompts/`)

### Summarizer Prompt (`summarizer_prompt.txt`)

You are a highly skilled AI summarizer for students.
Input: {pdf_text}

Task:

Summarize PDF text concisely

Keep structure clear with paragraphs

Highlight key points for study purposes

Output only the summary text

shell
Copy code

### Quiz Generator Prompt (`quiz_prompt.txt`)

You are an expert educational quiz maker.
Input: {pdf_text}

Task:

Generate MCQs and mixed-style questions with answers

Ensure clarity and correctness

Output in readable, student-friendly format


## 6. Tools (`tools/pdf_tools.py`)

- `extract_text_from_pdf(pdf_path: str)` → extracts text from PDF using PyPDF  
- `clean_text(text: str)` → optional text cleaner for better summaries/quizzes  
- Must be MCP-compatible and bound to agents via OpenAgents SDK

---

## 7. Frontend Integration (`ui/streamlit_app.py`)

- Upload PDF → call `summarize_pdf()` → display summary  
- Upload PDF → call `generate_quiz()` → display quiz  
- Minimal UI: PDF upload, summary output, quiz output  
- Do NOT add extra features

---

## 8. Implementation Steps

1. Verify OpenAgents SDK syntax using MCP `get-library-docs`  
2. Implement MCP tools in `tools/pdf_tools.py`  
3. Create prompts in `prompts/` folder  
4. Define agents directly in this `gemini.md` (PDF Summarizer & Quiz Generator)  
5. Run `gemini generate` → agents folder populated automatically  
6. Wire Streamlit frontend to generated functions  
7. Test using sample PDFs

---

## 9. Testing Scenarios

- **Summarizer:** Upload PDF → check readability & paragraph structure  
- **Quiz Generator:** Upload PDF → check questions & answers  
- **Integration:** Both features callable via Streamlit UI

---

**Next Step:**  

You can embed **full agent definitions** inside this same MD (like mini `summarizer.gemini.md` + `quiz_generator.gemini.md`) so Gemini CLI can generate everything **without separate feature MD files**.
---
# PDF Summarizer Agent

## Description
Generate concise, student-friendly summaries from PDF documents.

## Tools
- pdf_extractor: Extracts text content from a given PDF file path from `tools.pdf_tools`.
- text_cleaner: (Optional) Cleans and preprocesses extracted text for better summary generation from `tools.pdf_tools`.

## Functions
- summarize_pdf(pdf_path: str): Summarizes the PDF located at `pdf_path`.

## Prompts
- summarizer_prompt: prompts/summarizer_prompt.txt

---
# Quiz Generator Agent

## Description
Generates multiple-choice and mixed-style quizzes with answers from PDF documents.

## Tools
- pdf_extractor: Extracts text content from a given PDF file path from `tools.pdf_tools`.

## Functions
- generate_quiz(pdf_path: str): Generates a quiz from the PDF located at `pdf_path`.

## Prompts
- quiz_prompt: prompts/quiz_prompt.txt